<ion-header>
    <ion-toolbar>
      <ion-title>{{ titlePage }}</ion-title>
        <button ion-button style="font-size: 1.7em" slot="secondary" (click)="searchbarEventClick($event)">
          <ion-icon name="md-search"></ion-icon>
        </button>
    </ion-toolbar>
  </ion-header>

<ion-searchbar *ngIf="displaySearchBar" placeholder="Rechercher une série" [(ngModel)]="searchText" (ionChange)="getSearchBar(typeMovie)"></ion-searchbar>

<ion-content padding>
  <ion-list *ngIf="searchTextBool">
      <div *ngIf="textIntrouvable" style="color: black;">
        <p>Aucune série n'a été trouvée pour la recherche suivante : <b>{{searchText}}</b></p>
      </div>
      <div *ngFor="let serie of results">
        <ion-card routerLink="/detail/{{serie.imdbID}}">
          <ion-card-content padding>
            <div style="color:black;">
              <p>{{serie.Title}}</p>
              <p>Année de sortie : {{serie.Year}}</p>
              <p>Type : {{serie.Type}}</p>
            </div>
            <div *ngIf="serie.Poster == 'N/A', else elseBlockPosterImg">
              <p>Aucun poster associé à cette série</p>
            </div>
            <ng-template #elseBlockPosterImg>
                <img src={{serie.Poster}} alt={{serie.Title}} class="imgPosterResize">
            </ng-template>
          </ion-card-content>
        </ion-card>
      </div>
  </ion-list>

  <ion-infinite-scroll *ngIf="page <= 100 && !endInfiniteScroll, else elseBlockEndInfiniteScroll" (ionInfinite)="(doInfinite($event, typeMovie))">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Chargement des données en cours...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ng-template #elseBlockEndInfiniteScroll>
      <span>Aucune autre donnée à charger pour la recherche suivante : <b>{{searchText}}</b></span>
  </ng-template>

</ion-content>